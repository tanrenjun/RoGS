数据集里一共有10个scene，每个scene是大约20s的连续图片和点云。数据命名规则是使用token命名，确保唯一性。下载解压数据集后，是4个文件夹。

maps里存放地图的png文件，在使用官方工具时，可以把物品信息投影在每个地图上。

samples存放着采样的数据，在每个scene里，每隔0.5秒，会采样一次，采样的内容包括全部的传感器数据。每次采样的内容是6个相机的图像，1个激光雷达的点云，5个毫米波雷达的点云。采样过的数据才会被标注。

sweeps存放着未被采样的数据，所有被采集到的数据，除了采样过的数据外，都被放在sweeps，这些数据也没有被标注过。在现阶段感觉这些数据用处不大。


数据集的物品有23种分类。

8种属性，对23种分类的物品做具体的描述，代表了车辆、自行车、行人3种类型物品的8种属性。

4个可视等级，4级代表完全被看到，1级代表仅能看到不足40%的物体体积。

911个实体，标注了911个物品，每个物品可能在不同的sample里被标注了多次，用来做跟踪和轨迹预测。这911个物品在不同的图像里，一共被标注了18538次。（以下详述）

12个传感器，每个传感器都有独立的token。

120个标定，每个传感器被标定了10次，原因是数据集一共有10个scene。同一个传感器的外参标定结果有时略微有差别，说明在每次数据采集之前，都做了传感器重新标定的动作。每次采集，有可能采集1个scene，也有可能采集多个scene。对每个scene，数据集单独定义了要使用的标定参数。当然这个定义方法也不完全必要，如果每次启动采集车，或者更换维修传感器的以后，连续采集多个scene，其实做一次外参标定也就足够。在数据集里还能看到，不同scene使用相同的外参的情况。

31206个定位数据。车辆定位模块全部输出的定位位姿。（以下详述）

8个log文件，从log文件也可以看出，最后3个scene的采集过程是同时发生了，所以共用了1个log。

404个采样，每个scene时长20s，其中0.5秒采样一次，所以每个scene采样40次，10个scene采样404次也正常。

31206个sample_data，这个定义容易和sample混淆，更准确的命名应该是collected_data，含义是10个scene采集到的全部数据。可以粗略计算如下：

所有传感器按照各自的频率采集数据。大致的频率数为，相机12Hz，激光雷达10Hz，毫米波雷达12Hz，每秒钟总共采集数据量是12*6+10*1+12*5=142，再乘以10个scene，每个scene长度20s，则总数据量是142*10*20=28400个数据，能对应上数据集的数据量31206个。

这个数字和之前描述的定位数据数字相同，说明各个传感器的驱动软件每次输出一个数据（图片、激光点云、毫米波点云），采集软件就会打印一个时间戳，并把这个时间戳保存。

18538个标注，说明在404个采样的数据（图像、点云）里，出现了911个物品。这些物品一共被标注了18538次。

4张地图，说明10个secne就是在这4张地图里采集的，物品可以在这4张地图里可视化。




nuscence数据集各个数据之间的关系：

nuscenes数据集包含多个场景scene，因为scene之间相互独立所以可以用数组管理。在一个scene里有大概40个关键帧sample，由于sample之间是有时间先后关系的，所以scene只记录它包含的首尾sample，sample之间由双向指针依次连接。对于一个关键帧sample，它有成员变量data，它是一个字典，包含了6*cam，1*lidar，5*Radar的帧数据sample_data。一个sample_data是某个channel传感器在当前时间戳下的数据，它包括当前时刻的位姿ego_pose，帧数据存储路径，和对应传感器外参calibrated_sensor。calibrated_sensor包含对应传感器信息sensor，虽然sensor和sample_data之间没有指针连接，但sample_data可以通过channel找到对应的sensor。sample除了拥有sample_data，还有anns，它存储了不同实例instance在当前sample上的标注/观测annotation，对于某一sample而言annotation之间没有先后关系，所以anns是annotation的数组，由于某个annotation可能出现在图片边缘，所以还需要记录它在图片中的完整度visibility。对于一个实例instance而言，它的种类category是唯一的(在这一帧里是人就不可能在别的帧变成狗)，但是它的属性attribute可能会在不同关键帧sample下的观测annotation里发生变化(这一帧躺平下一帧可能卷起来)，所以attribute跟着annotation走。对于一个instance而言，它的观测annotation的数量是知道的，并且annotation之间有时间先后，所以instance会记录它的首尾annotation，annotation之间由双向指针连接。一个log会记录一个map和一个scene，但是一个map可能会出现在多个log里。

scene-0655场景：

Drop 0 frames out of 1412 by image exists check
Drop 0 frames out of 1412 by label exists check
Drop 0 lidar out of 396 by lidar exists check
Drop 0 frames out of 1412 by file exists check
